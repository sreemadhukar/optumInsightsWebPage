<div class="card-structure" *ngIf="data && !skeletonLarge">
  <div class="card-inner-large">
    <app-common-header
      [title]="data.title"
      class="full-display"
      (helpIconClicked)="helpIconClick($event)"
    ></app-common-header>
    <div class="card-inner-large-content">
      <div class="kop-insights-data" *ngFor="let item of data.chartData; let i = index">
        <div *ngIf="!item.singleCard; then switchCharts; else singleCardTemplate"></div>
        <ng-template #switchCharts>
          <div [ngSwitch]="item.cardType">
            <div *ngSwitchCase="'horizontalBar'">
              <app-horizontal-charts></app-horizontal-charts>
            </div>
            <div *ngSwitchCase="'verticalBar'">
              <app-vertical-bar-charts></app-vertical-bar-charts>
            </div>
            <div *ngSwitchCase="'hollowbox'" class="highlighted-boxes">
              <div
                *ngFor="let quarter of item.quarters"
                class="highlighted-box-{{ quarter.id }}"
                [class.current-quarter]="quarter.currentQuarter"
              >
                {{ quarter.title }}
              </div>
            </div>
            <div *ngSwitchCase="'miniDonut'" class="mini-donut-chart">
              <div *ngFor="let quarter of item.quarters">
                <app-donut-charts [chartData]="item" [quarter]="quarter"></app-donut-charts>
              </div>
            </div>
          </div>
        </ng-template>
        <ng-template #singleCardTemplate>
          <div class="highlighted-value">
            {{ item.quarters[0]?.title }}
          </div>
        </ng-template>
        <div class="caption">
          {{ item.caption }}
        </div>
        <app-trends class="trend-container" [data]="item"></app-trends>
        <div class="report-box" *ngIf="item.report && item.cardType === 'hollowbox'">
          <div class="report-content">
            Touchpoint - Top Box % (9-10)
          </div>
        </div>
        <div class="report-box" *ngIf="item.report && item.cardType === 'miniDonut'">
          <div class="report-content">
            Relationship - Top Box % (9-10)
          </div>
        </div>
      </div>
    </div>
    <div class="full-width-block" *ngIf="timePeriod">
      <app-common-footer
        [timePeriod]="
          timePeriod.title
            .concat(' ')
            .concat('(')
            .concat(timePeriod.timeFrame | timeperiod)
            .concat(')')
        "
      ></app-common-footer>
    </div>
  </div>
</div>

<div *ngIf="skeletonLarge">
  <div class="card-structure">
    <div class="card-inner-large-skeleton">
      <div class="card-skeleton-large"></div>
    </div>
  </div>
</div>

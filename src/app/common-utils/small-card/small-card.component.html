<div *ngIf="data != null" class="small-card-structure" [class.nps]="data.quarter">
  <div class="card-inner" [class.nps]="data.quarter" [class.print-card-inner]="printStyle">
    <app-common-header
      [cardType]="'smallCard'"
      [title]="data.title"
      [options]="options"
      (helpIconClicked)="helpIconClick($event)"
    ></app-common-header>
    <div class="card-size" *ngIf="data.type == 'bar' && data.fdata != null">
      <div class="bar-graph">
        <div class="title">PCP</div>
        <app-mini-bar-chart class="bar-chart" [chartOptions]="data.fdata"></app-mini-bar-chart>
        <div class="title1">Speclialist</div>
      </div>
      <div class="side-label">MPT Not Defined</div>
    </div>
    <div class="card-size" *ngIf="data.type == 'textWithLabel' && data.data != null">
      <div class="centernumber">{{ data.data.centerNumber }}</div>
      <div class="label">{{ data.data.labels }}</div>
      <div class="btmLabel">
        <mat-icon class="tick-icon" svgIcon="tick"></mat-icon>
        <div class="label">{{ data.bottomData.labels }}</div>
      </div>
    </div>

    <div *ngIf="data.quarter" class="cards-display-block">
      <div
        *ngFor="let card of data.cards"
        class="data-card"
        [class.card-nps-quarter-current]="card.currentQuarter"
        [class.card-nps-quarter-prev]="card.prevQuarter"
        [class.card-nps-quarter-highlight]="card.highlightQuarter"
      >
        <div class="highlighted">{{ card.highlightedValue }}</div>
        <div class="caption-text">{{ card.captionText }}</div>
        <div class="target">{{ card.targetValue }}</div>
      </div>
    </div>

    <div
      *ngIf="data.type == 'donut' && data.data != null"
      [ngClass]="data.sdata != null ? 'chart-details-donut' : 'full-width'"
    >
      <app-donut-chart [donutType]="'small-card'" [chartOptions]="data.data"></app-donut-chart>
    </div>
    <div
      *ngIf="data.type == 'donutWithLabel' && data.data != null"
      [ngClass]="data.sdata != null ? 'chart-details-donut' : 'full-width'"
    >
      <app-donut-chart [donutType]="'small-card'" [chartOptions]="data.data"></app-donut-chart>
      <div class="sideLabel">{{ data.data.sdata.label }}</div>
    </div>
    <div *ngIf="data.type == 'star' && data.data != null" class="chart-details small-star-chart">
      <app-star-chart [starType]="'small-card'" [chartOptions]="data.data"></app-star-chart>
    </div>
    <div *ngIf="data.sdata != null" class="trend-details" [class.trend-nps]="data.sdata.trendStyleNPS">
      <div *ngIf="data.sdata.sign === 'down'" class="flex-box">
        <span class="trend" [class.down]="data.sdata.sign === 'down'">
          <img class="trend-image trend-image-down" src="/src/assets/images/trend-down.svg" alt="trend-down" />
        </span>
        <div class="trend-value trend-value-down">
          {{ data.sdata.data }}
        </div>
      </div>
      <div *ngIf="data.sdata.sign === 'up'" class="flex-box">
        <span class="trend" [class.up]="data.sdata.sign === 'up'">
          <img class="trend-image  trend-image-up" src="/src/assets/images/trend-up.svg" alt="trend-up" />
        </span>
        <div class="trend-value trend-value-up">
          {{ data.sdata.data }}
        </div>
      </div>
      <div *ngIf="data.sdata.sign === 'down-green'" class="flex-box">
        <span class="trend" [class.up]="data.sdata.sign === 'down-green'">
          <img
            class="trend-image trend-image-up"
            src="/src/assets/images/down-positive-no-circle.svg"
            alt="trend-down"
          />
        </span>
        <div class="trend-value trend-value-up">
          {{ data.sdata.data }}
        </div>
      </div>
      <div *ngIf="data.sdata.sign === 'up-red'" class="flex-box">
        <span class="trend" [class.down]="data.sdata.sign === 'up-red'">
          <img
            class="trend-image  trend-image-down"
            src="/src/assets/images/up-negative-no-circle.svg"
            alt="trend-up"
          />
        </span>
        <div class="trend-value trend-value-down">
          {{ data.sdata.data }}
        </div>
      </div>
      <div *ngIf="data.sdata.sign === 'neutral'" class="flex-box">
        <span class="trend" [class.neutral]="data.sdata.sign === 'neutral'">
          <img class="trend-image trend-image-neutral" src="/src/assets/images/flat-no-change.svg" alt="no-change" />
        </span>
        <div class="trend-value trend-value-neutral">
          {{ data.sdata.data }}
        </div>
      </div>
    </div>

    <div *ngIf="data.type == 'barActualTargetNumbers' && data.data != null" class="target-actual-card">
      <div class="target-actual-div target-div-padding">
        <label class="target-lable">MPT</label>
        <div class="target-actual-bar-div" id="targetbardiv">
          <div class="target-actual-bar target-bar" [id]="'target' + index"></div>
        </div>
        <label>{{ this.data.data.target }}</label>
      </div>
      <div class="target-actual-div actual-div-padding">
        <label>Actual</label>
        <div class="target-actual-bar-div" id="actualbardiv">
          <div class="target-actual-bar actual-bar" [id]="'actual' + index"></div>
        </div>
        <label>{{ this.data.data.actual }}</label>
      </div>
      <div class="target-actual-result-div">
        <div class="target-actual-positive" *ngIf="TargetActualFlag">
          <mat-icon class="tick-icon" svgIcon="tick"></mat-icon>
          <div class="label">Meets MPT</div>
        </div>
        <div class="target-actual-negative" *ngIf="!TargetActualFlag">
          <mat-icon class="tick-icon" svgIcon="tick"></mat-icon>
          <div class="label">Does Not Meet MPT</div>
        </div>
      </div>
    </div>
    <div *ngIf="data.timeperiod" class="full-display-block">
      <app-common-footer [timePeriod]="data.timeperiod"></app-common-footer>
    </div>
  </div>
</div>

<div *ngIf="skeleton" class="small-card-structure">
  <div class="card-inner" [class.print-card-inner]="printStyle">
    <div class="full-width-block">
      <div class="card-skeleton-small-card"></div>
    </div>
  </div>
</div>
